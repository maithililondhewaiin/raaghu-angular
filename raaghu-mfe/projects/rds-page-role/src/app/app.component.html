<div [@fadeAnimation]="isAnimation ? 'fadeAnimation' : ''">
  <div class="row mt-2">
    <div class="col-md-12">
      <div class="card p-2 h-100 border-0 rounded-0 card-full-stretch">
          <div class="card-header bg-transparent">
            <h5 class="card-title">{{'Roles Hierarchy'| translate}}</h5>
          </div>
          <div class="card-body overflow-auto vh-75 pt-0">
            <!-- <mfe-loader [config]="rdsOrganizationTreeConfig"></mfe-loader> -->
            <rds-comp-organization-tree
               (onDeleteNode)="onDeleteNode($event)" 
               (getSelectedParent)="getSelectedParent($event)" 
               (onNodeEdit)="onNodeEdit($event)" 
               [organizationTreeData]="treeData1"
               [nodeColor]="nodeColors" 
               [mutable]="true" 
               [isRoles]="false"
               ></rds-comp-organization-tree>
          </div>
      </div>
    </div>
  </div>
</div>

<rds-offcanvas *ngIf="viewCreateOrganisationCanvas" [placement]="'end'" (onClose)="activePage = 0"
  [offId]="'addNodeOffcanvas'" [offcanvaswidth]="550" [canvasTitle]="translate.instant(canvasTitle)">
  <rds-nav-tab [navtabsItems]="getNavTabItems()" (onClicktab)="getSelectedNavTab($event)" 
    [horizontalAlignment]="'start'" [verticalAlignment]="false" [pills]="false" [tabs]="true" [fill]="false"
    [justified]="false"   [activeTab]="activePage">
    <div naveContent class="tab-content" id="nav-tabContent">
      <div class="tab-pane fade px-2" [ngClass]="{'show active': activePage === 0}" id="Role" role="tabpanel"
        aria-labelledby="nav-home-tab">
        <rds-comp-new-role [roleData]="Roledetails" [isReset]="isReset" [offCanvasId]="'#addNodeOffcanvas'" [EditShimmer]="EditShimmer"
         (onCancel)="close()" (RoleInfo)="RoleInfo($event)"> 
        </rds-comp-new-role>
      </div>
      <div class="tab-pane fade pb-5 px-2 mt-2" [ngClass]="{'show active': activePage === 1}" id="Permission" role="tabpanel"
        aria-labelledby="nav-home-tab">
        <rds-comp-permission-tree [treeData]="permissionTreeData" [isEdit]="isEdit" [roleName]="entityDisplayName"
        (getAllselectedPermissions)="getAllselectedPermissions($event)">
      </rds-comp-permission-tree>
      </div>

      <div class="tab-pane fade pb-5 mb-4 px-2" [ngClass]="{'show active': activePage === 2}" id="Claims" role="tabpanel"
        aria-labelledby="nav-home-tab">
        <rds-comp-claim-type-role [claimValueData]="claimValueData" [claimDisplayArray]="claimDisplayArray" [claimsActions]="claims_actions" (addClaim)="addClaim($event)" (onCancel)="close()" (onClaimSave)="onClaimSave()" (deleteClaim)="deleteClaim($event)"></rds-comp-claim-type-role>
      </div>
    </div>
  </rds-nav-tab>

  <div class="footer-buttons my-2" *ngIf="activePage == 1">
    <div class="row">
      <div class="col-md-12">
        <rds-banner [sticky]="false" position="bottom" colorVariant="primary"
          [bannerText]="translate.instant('If you are changing your own permissions, you may need to refresh page (F5) to take effect of permission changes on your own screen!')">
        </rds-banner>
        <rds-button [label]="translate.instant('Cancel')" (click)="onCancelOrganisation()" [isOutline]="true"
          type="button" [colorVariant]="'primary'" [size]="'small'" data-bs-target="#addNodeOffcanvas"
          data-bs-dismiss="offcanvas">
        </rds-button>
        <rds-button [label]="translate.instant(saveNextBtn)" [submit]="true" type="submit"
          [size]="'small'" class="px-2" [isDisabled]="" [colorVariant]="'primary'" (click)="saveAndNext()">
        </rds-button>
      </div>
    </div>
  </div>
</rds-offcanvas>