<div>
  <div class="my-3">
    <rds-button
      [label]="'New Secrets'"
      [isOutline]="true"
      [colorVariant]="'primary'"
      [icon]="'plus'"
      [iconHeight]="'12px'"
      [iconWidth]="'12px'"
      (onClick)="showSecretForm = true"
    >
    </rds-button>
  </div>
  <div *ngIf="showSecretForm" class="mb-2">
    <form #secretForm="ngForm" (ngSubmit)="addSecrets(secretForm)">
      <div class="row">
        <div class="col-md-4 mb-3">
          <div class="mb-2">
            <rds-label [label]="'Type'"></rds-label
            ><span class="text-danger">*</span>
          </div>
          <rds-dropdownlist
            class="mt-2"
            [borderDropdown]="true"
            [placeholder]="'Select Type'"
            [size]="'large'"
            [listItems]="typeData"
            (onSelect)="selectedOption($event)"
          >
          </rds-dropdownlist>
        </div>
        <div class="col-md-3 mb-3">
          <rds-input
            size="medium"
            value=""
            TitleType="'Top'"
            inputType="text"
            [label]="'Value'"
            [(ngModel)]="secretData.value"
            [disabled]="false"
            [isRequired]="true"
            required
            [readonly]="false"
            [placeholder]="'Enter Value'"
            ngDefaultControl
            name="value"
          >
          </rds-input>
        </div>
        <div class="col-md-5 mb-3">
          <rds-datepicker
            [datePickerType]="'basic'"
            [label]="'Expiration'"
            [value]="secretData.expiration"
            [(ngModel)]="secretData.expiration"
            name="expiration"
            (change)="selectEndDate($event)"
          >
          </rds-datepicker>
        </div>
      </div>
      <div class="mb-3">
        <rds-input
          size="medium"
          value=""
          [label]="'Description'"
          TitleType="'Top'"
          inputType="text"
          [(ngModel)]="secretData.description"
          [disabled]="false"
          [readonly]="false"
          [placeholder]="'Enter Description'"
          ngDefaultControl
          name="description"
        >
        </rds-input>
      </div>
      <div class="mt-3 mb-3">
        <rds-button
          [submit]="true"
          [id]="'add-secrets'"
          [colorVariant]="'primary'"
          [label]="'ADD'"
          [isDisabled]="
            secretForm.form.value.value == '' ||
            secretForm.form.value.value == undefined
          "
          [size]="'small'"
        >
        </rds-button>
      </div>
    </form>
  </div>
  <rds-data-table
    *ngIf="
      apiSecretsTableData && apiSecretsTableData.length > 0;
      else illustrationTemplate
    "
    [tableData]="apiSecretsTableData"
    [tableHeaders]="apiSecretTableHeader"
    [recordsPerPage]="5"
    [inlineEdit]="false"
    [showIllustration]="false"
    [tableStyle]="'light'"
    [isDeleteConfirmationRequired]="false"
    [pagination]="
      apiSecretsTableData && apiSecretsTableData.length > 5 ? true : false
    "
    [isShimmer]="false"
    [actions]="secretTableActions"
    [noDataTitle]="'Currently you do not have secrets'"
    (onActionSelection)="tableActionSelection($event)"
  >
  </rds-data-table>
  <ng-template #illustrationTemplate>
    <rds-illustration
      [iconHeight]="'100px'"
      [label]="'Currently you do not have secrets'"
      [subLabel]="'Click on the button above to add'"
      [iconWidth]="'100px'"
    ></rds-illustration>
  </ng-template>
</div>
